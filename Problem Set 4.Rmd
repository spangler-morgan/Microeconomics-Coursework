---
title: "Problem Set 4"
author: "Morgan Conklin Spangler"
date: "2/22/2019"
output: pdf_document
header-includes:
  - \usepackage{setspace}\doublespacing
  - \usepackage{ amssymb }
  - \usepackage{amsmath}
  - \usepackage{tikz}
  - \usepackage{pgfplots}
  - \usepackage{float}
  - \floatplacement{figure}{H}
  - \usepackage{dsfont}
  - \usepackage{ mathrsfs }
  - \usepackage{ wasysym }
  - \usepackage{mathtools}
  - \usepackage{tcolorbox}
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

  1. Consider the provision of a public good for two economic agents. Agents have utility, $u_i(G,x_i)$ over a continuous public good, $G$, and a continuous private good, $x$. Each agent has an income of $w_i$ and contributes $g_i$ toward the public good. The rest of their income can be used to purchase the private good. The cost function for the public good, $G$, is the identity function. That is, for contributions of $g_1$ and $g_2$ there will be $G=g_1+g_2$ provided.
      a) Suppose individuals provide for the public good privately. Write down the maximization problem of each agent.\newline
      Each agent, $i\in \{1,2\}$ will maximize their utility, $\max u_i(G,x_i)$ subject to the constraints $w_i=g_i+x_i$, $g_i, x_i \geq 0$, and the property $G=g_1+g_2$.
      \begin{tcolorbox}$\max_{g_i,x_i} u_i(g_i+g_{-i},x_i)$ subject to $w_i=g_i+x_i; \ \ x_i,g_i\geq 0$ for all $i\in\{1,2\}$\end{tcolorbox}
      b) Write down the social planner's maximization problem.\newline The social planner chooses $g_1$ and $g_2$ to optimize the joint utility function for consumers, $\max_{g_1,g_2} U(G,x_1,x_2)=a_1u_1(G,x_1)+a_2u_2(G,x_2)-c(G)$ subject to $a_1+a_2=1$ and $w_i=x_i+g_i \ \ \forall i\in \{1,2\}$, $a_i$ is the weight placed on consumer $i$'s utility. \begin{tcolorbox}Given that the cost of $G$ is the identity function, this is simply, $$\max _{g_1,g_2}U(g_1,g_2)=a_1u_1(g_1+g_2,w_1-g_1)+a_2u_2(g_1+g_2,w_2-g_2)-g_1-g_2$$ Further, we know the social planner will solve for the efficient allocation, such that the total marginal benefit to society is equal to the marginal cost $(MRS_1+MRS_2=MC) \Rightarrow \frac{\frac{\partial u_1}{\partial g_1}}{\frac{\partial u_1}{\partial x_1}}+\frac{\frac{\partial u_2}{\partial g_2}}{\frac{\partial u_2}{\partial x_2}}=MC(G)=1$\end{tcolorbox}
      c) Assume that each agent has utility of the following form: $$u_i(G,x_i)=a_i\ln(G)+x_i$$ Solve for agent 1's optimal choice of private good and public good provision as a function of $g_2$.\newline
      $\max_{g_1,x_1}a_1\ln(g-1+g_2)+x_1+\lambda[w_i-g_i-x_i]$\newline FOC:\newline $\frac{\partial u_1}{\partial g_1}: a_1\frac{1}{g_1+g_2}-\lambda=0 \Rightarrow a_1\frac{1}{g_1+g_2}=\lambda$\newline $\frac{\partial u_1}{\partial x_1}: 1-\lambda=0 \Rightarrow \lambda=1$ $$\Rightarrow 1=a_1\frac{1}{g_1+g_2}\Rightarrow g_1+g_2=a_1$$ $$g_1^*(g_2)=a_1-g_2$$
      \begin{tcolorbox}Person 1 will solve their equation such that $g_1^*(g_2)=a_1-g_2$, so their contribution is increasing in the parameter $a_1$ and decreasing in the other individual's contribution, $g_2$.\end{tcolorbox}
      d) Who will free-ride in this case?\newline
      Given that the individuals have symmetric utility functions, we know $g_2^*(g_1)=a_2-g_1$. Therefore, if $a_1\geq a_2$, person 1 will produce $g^*_1$ and person 2 will be the free rider, as they are receiving weakly more of the public good, $g^*_2$, then they would contribute on their own in the absence of person 2's contribution, $g^*_1$. \begin{tcolorbox} Whichever person has the largest weight of their utility, $a_i$, on the public good will be the sole contributor towards it and the person with the smaller $a_i$ will be the free rider.\end{tcolorbox}
      e) Solve for the socially efficient level of the public good as a function of the $a_i$s and $w_i$s.\newline
      $\max_{g_1,g_2} a_1\ln(g_1+g_2)+w_1-2g_1+a_2\ln(g_1+g_2)+w_2-2g_2$\newline FOC:\newline $\frac{\partial U}{\partial g_1}: \frac{a_1}{g_1+g_2}-2+\frac{a_2}{g_1+g_2}=0\Rightarrow \frac{a_1+a_2}{2}=G$\newline $\frac{\partial U}{\partial g_2}:\frac{a_1}{g_1+g_2}+\frac{a_2}{g_1+g_2}-2=0\Rightarrow \frac{a_1+a_2}{2}=G$ \begin{tcolorbox}The socially efficient level of the public good is $G^*=\frac{a_1+a_2}{2}$.\end{tcolorbox}
      f) Now assume that each agent has utility of the following form: $$u_i(G,x_i)=a_i\ln(G)+\ln(x_i)$$ Under what conditions will the new efficient level of the public good be greater than before?\newline $\max_{g_1,g_2} a_1\ln(g_1+g_2)+ln(w_1-g_1)+a_2\ln(g_1+g_2)+ln(w_2-g_2)-g_2-g_1$\newline 
      FOC:\newline $\frac{\partial U}{\partial g_1}: \frac{a_1}{g_1+g_2}-\frac{1}{w_1-g_1}+\frac{a_2}{g_1+g_2}=0\Rightarrow a_1w_1-a_1g_1+a_2w_1-a_2g_1=g_1+g_2\Rightarrow a_1w_1-a_1g_1+a_2w_1-a_2g_1-g_1=g_2$\newline 
      $\frac{\partial U}{\partial g_2}:\frac{a_1}{g_1+g_2}+\frac{a_2}{g_1+g_2}-\frac{1}{w_2-g_2}=0\Rightarrow a_1w_2-a_1g_2+a_2w_2-a_2g_2=g_1+g_2\Rightarrow a_1w_2-a_1g_2+a_2w_2-a_2g_2-g_2=g_1$\newline
      $\Rightarrow (a_1+a_2)w_2=g_1+g_2(1+a_1+a_2)\Rightarrow (a_1+a_2)w_2-g_2(1+a_1+a_2)=g_1^*$\newline $\Rightarrow \frac{a_1w_1-a_1^2w_2-2a_1a_2w_2+a_2w_1-a_2^2w_2-a_1w_2-a_2w_2}{a_1^2-a_2^2-2a_2}=g_2^*$\newline $\Rightarrow (a_1+a_2)[\frac{2a_1^2w_2+2a_1a_2w_2-(w_1+w_2)(a_1+a_2)}{a_1^2-a_2^2-2a_2}]=g_1^*+g_2^*=G^*$
      \begin{tcolorbox}In this case, the socially efficient level of the public good is $$G^*=g_1^*+g_2^*=(a_1+a_2)[\frac{2a_1^2w_2+2a_1a_2w_2-(w_1+w_2)(a_1+a_2)}{a_1^2-a_2^2-2a_2}].$$ This will result in a higher level of socially efficient public good if $$\frac{a_1+a_2}{2}<(a_1+a_2)[\frac{2a_1^2w_2+2a_1a_2w_2-(w_1+w_2)(a_1+a_2)}{a_1^2-a_2^2-2a_2}]$$ $$\Rightarrow \frac{1}{2}<\frac{2a_1^2w_2+2a_1a_2w_2-(w_1+w_2)(a_1+a_2)}{a_1^2-a_2^2-2a_2}$$ $$\Rightarrow \frac{a_1^2}{2(a_1+a_2)}-\frac{a_2^2}{2(a_1+a_2)}-\frac{a_2}{(a_1+a_2)}<(2a_1-1)w_2-w_1$$\end{tcolorbox}
      
  2. Consider our discussion of revelation mechanisms. Let $G\in \{0,1\}$ be a discrete public good that costs $c$ to provide. Let $r_i$ be their reservation price of the good for the $i$th citizen. If the public good is provided, each citizen pays $s_ic$. Thus, the net value of providing the public good is $v_i=r_i-s_ic$.
      a) Consider the following revelation mechanism: Each agent reports a bid, $b_i$, for the public good. This may or may not be the true value of the good. The public good is provided if the sum of the bids is greater than or equal to zero: $\sum_i b_i\geq 0$. In addition, there is a side payment made to the $i$th agent of $\sum_{j\neq i}b_j$. If the public good is provided, show that the total amount of side payments is (weakly) larger than the total net value of the public good. Also, calculate the ratio of the sum of side payments to the sum of net values of the public good.\newline
First, I assume $N\geq 2$, as a "public good" with one individual is not necessarily a "public" good rather than a private good and no side payments would be made with $N=1$ or 0. Now, we are trying to show that $\sum_{j\neq i}b_j$, the sum of side payments, is weakly larger than $\sum_i v_i$, the total net value of the public good. $$\Rightarrow \sum_{j\neq i}b_j\geq \sum_i v_i$$ $\Rightarrow \sum_{j\neq i}b_j=(N-1)\sum_i b_i\geq \sum_i v_i$. Given our assumption that $N\geq 2$, we know that $(N-1)\geq 1$, so $(N-1)\sum_i b_i \geq \sum_i b_i$. Further, if the public good is being provided, that sum of bids is greater than or equal to zero, $\sum_i b_i \geq 0$.\newline We can say that consumers want the good to be provided if they will be better off with the public good, $\sum_i v_i\geq 0$. Given that consumers are not directly paying their bid, and they know that a positive sum of bids are needed for the good to be provided, they are incentivized to submit a bid weakly larger than their own value of receiving the good rather than less, $b_i \geq v_i$. Now, given that we have shown $b_i\geq v_i$, we can sum over the total population to have $\sum_i b_i \geq \sum_i v_i$. 
\begin{tcolorbox}Then, we have $$\sum_{j\neq i}b_j=(N-1)\sum_ib_i\geq\sum_i b_i \geq \sum_i v_i$$ Therefore, we can say that $\sum_{j\neq i}b_j\geq \sum_i v_i$, meaning that the sum of side payments is weakly larger than the total net value of the public good if it is provided. The ratio of the sum of side payments to the sum of net values is equivalent to $\frac{\sum_{j\neq i} b_j}{\sum_i v_i}\Rightarrow (N-1)\frac{\sum_{i} b_i}{\sum_i v_i}\Rightarrow (N-1)\sum_i\frac{b_i}{v_i}$.\end{tcolorbox}
      b) Consider a modified mechanism where the payoffs to each agent are as follows: payoff to $i$ is equal to $\begin{cases}v_i & {if} \ \ \sum_i b_i\geq 0 \ \ {and} \ \ \sum_{j\neq i}b_j\geq 0 \\ v_i+\sum_{j\neq i}b_j & {if} \ \ \sum_i b_i\geq 0 \ \ {and} \ \ \sum_{j\neq i}b_j< 0 \\-\sum_{j\neq i}b_j & {if} \ \ \sum_i b_i < 0 \ \ {and} \ \ \sum_{j\neq i}b_j\geq 0 \\0 & {if} \ \ \sum_i b_i< 0 \ \ {and} \ \ \sum_{j\neq i}b_j< 0 \end{cases}$\newline That is, the public good is provided if the sum of bids is greater than, or equal to, zero, and side transfers only happen for a subset of individuals. Show that whether or not the public good is provided, the sum of side transfers in this case is (weakly) less than in the previous case.\newline In this previous case, the sum of side transfers is denoted $\sum_{j\neq i} b_j^a$. We know this is weakly larger than the total net value of the public good, $\sum_i v_i$.\newline
      Case 1: $\sum_i b_i\geq 0 \ \ {and} \ \ \sum_{j\neq i}b_j\geq 0$\newline In this case, the sum of side transfers is $\sum_{j\neq i} b_j^a=(N-1)\sum_i b_i$ which is equivalent to the previous case, so $\sum_{j\neq i} b_j=\sum_{j\neq i} b_j^a$.\newline
      Case 2: $\sum_i b_i\geq 0 \ \ {and} \ \ \sum_{j\neq i}b_j< 0$\newline In this case, the sum of side transfers is less than zero even though the good is provided (the sum of bids is greater than zero). Previously, the sum of side transfers was weakly greater than the net value. Therefore, in this case, $\sum_{j\neq i} b_j^a=(N-1)\sum_i b_i\geq 0$ but $\sum_{j\neq i} b_j\leq 0 \Rightarrow \sum_{j\neq i} b_j^a\geq \sum_{j\neq i} b_j=(N-1)\sum_i b_i$.\newline
      Case 3: $\sum_i b_i< 0 \ \ {and} \ \ \sum_{j\neq i}b_j\geq 0$\newline In this case, for $\sum_{j\neq i} b_j=(N-1)\sum_i b_i\geq 0$ but $\sum_i b_i < 0$, it must be that $(N-1)\leq 0$ Therefore, when $(N-1)\leq 0$. Additionally, given that $N\in \mathds{I}^{+}$ (we can't have a negative population), it must be that $N=1 \Rightarrow N-1=0$. Therefore, $\sum_{j\neq i} b_j=(N-1)\sum_i b_i=\sum_{j\neq i} b_j^a=0$.\newline
      Case 4: $\sum_i b_i< 0 \ \ {and} \ \ \sum_{j\neq i}b_j< 0$\newline In this case, the sum of side transfers is less than zero and the good is not provided (the sum of bids is less than zero). In this case, the previous method of calculating the sum of transfer payments, $\sum_{j\neq i}b_j^a=(N-1)\sum_i b_i$. In this modified mechanism we end up finding the same, $\sum_{j\neq i}b_j=(N-1)\sum_i b_i=\sum_{j\neq i}b_j^a$, so the two total amount of side payments are the same.\begin{tcolorbox}We see that, overall, this modified mechanism provides a total sum of side transfers that are weakly less than those calculated in the previous case.\end{tcolorbox}
      c) Denote a pivotal citizen as one for whom $\sum_i b_i\geq 0$ and $\sum_{j\neq i}b_j<0$, or $\sum_i b_i<0$ and $\sum_{j\neq i}b_j\geq 0$. Prove that the following is true for a pivotal citizen $j$: $$|v_j|\geq|\sum_i v_i|$$ Note that the sum on the right side is over all citizens. [Hint: Pay attention to the definition of the absolute value function.]\newline 
      In class we showed how the optimal solution is always going to be for citizens to bid their true value, $b_i=v_i$. Therefore, it suffices to prove here that $|v_j|=|b_j|\geq|\sum_i b_i|=|\sum_i v_i|$ for some pivotal citizen $j$. $$|b_j|\geq|\sum_i b_i|$$ \begin{tcolorbox} $\sum_i b_i = b_j + \sum_{i\neq j} b_i$, so the bid for the pivotal citizen $j$ is $b_j = \sum_i b_i - \sum_{i\neq j}b_i$. Given that, for a citizen $j$ who is pivotal, it must be the case that the sign of $\sum_i b_i$ and $\sum_{i\neq j} b_j$ are different, therefore it will always be the case that $|b_j| \geq |\sum_i b_i|$.\newline So, we know that $|b_j| \geq |\sum_i b_i|$ therefore $|v_j| \geq |\sum_i v_i|$ for some pivotal citizen such that $\sum_i b_i\geq 0$ and $\sum_{j\neq i}b_j<0$ or $\sum_i b_i<0$ and $\sum_{j\neq i}b_j\geq 0$.\end{tcolorbox}
      d) In the modified mechanism let $T_i$ be the side transfer for individual $i$, that is the transfer net of $v_i$. Denote the set of pivotal individuals as $P$, that is the $i^{th}$ citizen is pivotal if $i\in P$. Show that the sum of side transfers to pivotal individuals is negative, that is: $$\sum_{i\in P} T_i\leq 0$$\newline
      Case 1: Citizen $i$ is pivotal and $\sum_i b_i\geq 0$ and $\sum_{j\neq i}b_j<0$\newline
      In this case, $T_i^{P=1}=\sum_{j\neq i} b_j$, $\sum_{j\neq i}b_j<0$, therefore $T_i^{P=1} < 0$.\newline
      Case 2: Citizen $i$ is pivotal and $\sum_i b_i<0$ and $\sum_{j\neq i}b_j\geq 0$\newline
      In this case, $T_i^{P=2}=-\sum_{j\neq i} b_j$, $\sum_{j\neq i}b_j \geq 0$, therefore $T_i^{P=2} \leq 0$.\newline
      \begin{tcolorbox} Therefore, $\sum_{i\in P} T_i = \sum_i T^{P=1}_i + \sum_i T^{P=2}_i= (< 0) + (\leq 0) \Rightarrow \sum_{i\in P} T_i \leq 0$.\end{tcolorbox}
      e) Denote $V^P=\sum_{i\in P}v_i$ as the sum of net values for the pivotal citizens, $i\in P$. Likewise, denote $V^{-P}=\sum_{i\notin P}v_i$ as the sum of net values for non-pivotal citizens. Finally, let $J$ be the number of pivotal citizens. Show that the upper bound for $J$ is: $$J\leq \frac{V^P}{V^P + V^{-P}}$$ Assume that $\sum_i v_i\neq 0$.[Hint: Use the inequality in (2d).]\newline
      \begin{tcolorbox}$J={\sum_{i\in P} 1}$\newline
      $\Rightarrow \sum_{i \in P} \frac{\sum_i v_i}{\sum_i v_i}=\frac{\sum_{i\in P} \sum_i v_i}{\sum_i v_i}$\newline
      $\Rightarrow \sum_{i \in P} \frac{\sum_i v_i}{\sum_i v_i}=\frac{\sum_{i\in P} \sum_i v_i}{\sum_{i\in P} v_i+\sum_{i\notin P} v_i}$\newline
      $\Rightarrow \sum_{i \in P} \frac{\sum_i v_i}{\sum_i v_i}=\frac{\sum_{i\in P} \sum_i v_i}{V^P+V^{-P}}$\newline
      To maximize $J$, we maximize the numerator of this fraction, $\sum_{i\in P}\sum_i v_i=\sum_i V^P=V^P$.
      $$\Rightarrow J\leq \frac{V^P}{V^P + V^{-P}}$$\end{tcolorbox}
  
  3.  Consider the Groves-Clarke Mechanism from class, in the case of a continuous amount of the public good, $a\in A$. Assume that agents have quasilinear preferences over the public good and the side payment: $u_n(a,p_n|\tau_n)=v_n(a|\tau_n)+p_n$, where $v_n(a|\tau_n)$ is a strictly increasing, concave function in $a$. Let the total cost of providing the public good be $C(a)$, with $C'(a)>0$ and $C''(a)>0$. As in lecture, agents' preference depend on type, $\tau_n \in T_n$, which is private information and distributed according to $F_n(\tau_n)$.
      a) What is the social planner's objective function $W(a|\tau)$?
      \begin{tcolorbox}$W(a|\tau)=\sum_{n=1}^N[u_n(a,p_n|\tau_n)-p_n]=\sum_{n=1}^N[v_n(a|\tau_n)+p_n-p_n]=\sum_{n=1}^N[v_n(a|\tau_n)]$\end{tcolorbox}
      b) Derive a dominant strategy, direct mechanism $\sigma(\tau)=(A(\tau),P_1(\tau),...,P_n(\tau))$ that will implement the optimal $a^*(\tau)$.\newline
```{r, echo=FALSE, fig.align='center', fig.pos='h'}
knitr::include_graphics("concave graph.png")
```
      We know that the optimal allocation $a^*(\tau_n)$ will solve the social welfare problem $\arg\max_a \sum_n v_n(a|\tau_n)$. In order for the mechanism to induce truth telling, it must be that $u_n(a,p_n|\tau_n)\geq u_n(a,p_n|\tau_n')$ for some $\tau_n'\neq \tau_n \ \ \forall n\in N$; we are not made better off by lying no matter what our type is. $$v_n(a|\tau_n)+p_n\geq v_n(a|\tau_n')+ p_n'$$
     \begin{tcolorbox}So, as long as $p_n$ is structured such that the consumer is punished by lying, the consumer will be properly incentivized to be truth telling. $$\sigma(\tau)=(A(\tau),P_1(\tau),...,P_n(\tau)),$$ $$P_n(\tau)=h_n(\tau_{-n})+\sum_{n'\neq n}v(A(\tau)|\tau_n')$$\end{tcolorbox}
      c) Show that under your mechanism, the agents have dominant strategy of revealing their true type $\tau_n$.\newline
\begin{tcolorbox}$u_n(a,p_n|\tau_n)\leq u_n(a,p_n|\tau_n')$$ $$\Rightarrow v_n(a|\tau_n)+p_n\geq v_n(a|\tau_n')+ p_n'$\newline
$\Rightarrow v_n(a|\tau_n)+h_n(\tau_{-n})+\sum_{n'\neq n}v(A(\tau)|\tau_n')\geq v_n(a|\tau_n')+ h_n(\tau_{-n'})+\sum_{n\neq n'}v(A(\tau)|\tau_n)$\newline
$\Rightarrow \sum_{T_n} [v_n(a|\tau_n)+h_n(\tau_{-n})+\sum_{n'\neq n}v(A(\tau)|\tau_n')]\geq \sum_{T_n}[v_n(a|\tau_n')+ h_n(\tau_{-n'})+\sum_{n\neq n'}v(A(\tau)|\tau_n)]$\newline
$\Rightarrow \sum_{T_n}v_n(a|\tau_n)+\sum_{T_n}h_n(\tau_{-n})+\sum_{T_n}\sum_{n'\neq n}v(A(\tau)|\tau_n')\geq \sum_{T_n}v_n(a|\tau_n')+ \sum_{T_n}h_n(\tau_{-n'})+\sum_{T_n}\sum_{n\neq n'}v(A(\tau)|\tau_n)$\newline
$\Rightarrow \sum_{T_n}v_n(a|\tau_n)+\sum_{T_n}h_n(\tau_{-n})+(T_n-1)\sum_{T_n}v(A(\tau)|\tau_n)\geq \sum_{T_n}v_n(a|\tau_n')+ \sum_{T_n}h_n(\tau_{-n'})+(T_n-1)\sum_{T_n}v(A(\tau)|\tau_n)$\newline
$\Rightarrow \sum_{T_n}v_n(a|\tau_n)+\sum_{T_n}h_n(\tau_{-n})\geq \sum_{T_n}v_n(a|\tau_n')+ \sum_{T_n}h_n(\tau_{-n'})$\newline
$\Rightarrow \sum_{T_n}v_n(a|\tau_n)+\sum_{T_n}h_n(\tau_{-n})= \sum_{T_n}v_n(a|\tau_n')+ \sum_{T_n}h_n(\tau_{-n'})$\newline
Given that consumers are unaware of what the other draws will be within the population, they have no reason to deviate from telling the truth.\end{tcolorbox}